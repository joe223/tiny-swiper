{"version":3,"file":"pagination.js","sources":["../../src/lib.js","../../src/modules/pagination.js"],"sourcesContent":["export function addClassName (el, list = []) {\n    if (!Array.isArray(list)) list = [list]\n\n    list.forEach(clz => (!el.classList.contains(clz) && el.classList.add(clz)))\n}\n\nexport function removeClassName (el, list = []) {\n    if (!Array.isArray(list)) list = [list]\n\n    list.forEach(clz => (el.classList.contains(clz) && el.classList.remove(clz)))\n}\n\nexport function detectTouch () {\n    return Boolean(\n        'ontouchstart' in window ||\n        window.navigator.maxTouchPoints > 0 ||\n        window.navigator.msMaxTouchPoints > 0 ||\n        window.DocumentTouch && document instanceof DocumentTouch\n    )\n}\n\n/**\n * get Element transform\n * @param {HTMLElement} el\n * @param {Boolean} isHorizontal\n * @returns {Number}\n */\nexport function getTranslate (el, isHorizontal) {\n    const matrix = getComputedStyle(el).transform.replace(/[a-z]|\\(|\\)|\\s/g, '').split(',').map(parseFloat)\n    let arr\n\n    if (matrix.length === 16) {\n        arr = matrix.slice(12, 14)\n    } else if (matrix.length === 6) {\n        arr = matrix.slice(4, 6)\n    }\n    return arr[isHorizontal ? 0 : 1] || 0\n}\n","import {\n    addClassName,\n    removeClassName\n} from '../lib.js'\n\nexport default function TinySwiperPluginPagination (tinyswiper) {\n    tinyswiper.on('before-init', tinyswiper => {\n        const { config } = tinyswiper\n\n        if (config.pagination) {\n            config.pagination = {\n                clickable: false,\n                bulletClass: 'swiper-pagination-bullet',\n                bulletActiveClass: 'swiper-pagination-bullet-active',\n                ...config.pagination\n            }\n        }\n    })\n\n    tinyswiper.on('after-init', tinyswiper => {\n        const { config } = tinyswiper\n\n        if (!config.pagination) return\n        const {\n            bulletClass,\n            bulletActiveClass\n        } = config.pagination\n\n        const $pagination = typeof config.pagination.el === 'string'\n            ? document.body.querySelector(config.pagination.el)\n            : config.pagination.el\n        const $pageList = []\n        const $group = document.createDocumentFragment()\n\n        config.excludeElements.push($pagination)\n        tinyswiper.$pagination = $pagination\n        tinyswiper.$pageList = $pageList\n\n        tinyswiper.$list.forEach((item, index) => {\n            const $page = document.createElement('div')\n\n            addClassName($page, index === tinyswiper.index ? [bulletClass, bulletActiveClass] : bulletClass)\n            $pageList.push($page)\n            $group.appendChild($page)\n        })\n\n        $pagination.appendChild($group)\n\n        if (config.pagination.clickable) {\n            $pagination.addEventListener('click', e => {\n                tinyswiper.scroll($pageList.indexOf(e.target))\n                e.stopPropagation()\n            })\n        }\n    })\n\n    tinyswiper.on('after-destroy', tinyswiper => {\n        const { config } = tinyswiper\n\n        if (!config.pagination) return\n        tinyswiper.$pagination.innerHTML = ''\n        tinyswiper.$pageList = []\n        tinyswiper.$pagination = null\n    })\n\n    tinyswiper.on('after-slide', (currentIndex, tinyswiper) => {\n        const { bulletActiveClass } = tinyswiper.config.pagination\n\n        tinyswiper.$pageList && tinyswiper.$pageList.forEach(($page, index) => {\n            if (index === currentIndex) {\n                addClassName($page, bulletActiveClass)\n            } else {\n                removeClassName($page, bulletActiveClass)\n            }\n        })\n    })\n}\n"],"names":["addClassName","el","list","Array","isArray","forEach","clz","classList","contains","add","removeClassName","remove","TinySwiperPluginPagination","tinyswiper","on","config","pagination","clickable","bulletClass","bulletActiveClass","$pagination","document","body","querySelector","$pageList","$group","createDocumentFragment","excludeElements","push","$list","item","index","$page","createElement","appendChild","addEventListener","e","scroll","indexOf","target","stopPropagation","innerHTML","currentIndex"],"mappings":"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"}